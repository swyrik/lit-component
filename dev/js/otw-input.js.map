{"version":3,"file":"otw-input.js","sources":["../../dist/components/otw-input.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _FormInput_instances, _FormInput_initialValue, _FormInput_handleInput;\nimport { LitElement, css, html } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nlet FormInput = class FormInput extends LitElement {\n    constructor() {\n        super();\n        _FormInput_instances.add(this);\n        this.name = '';\n        this.value = '';\n        this.label = '';\n        this.type = 'text';\n        this.required = false;\n        this.placeholder = '';\n        this.disabled = false;\n        _FormInput_initialValue.set(this, '');\n        this.internals = this.attachInternals();\n    }\n    // Called when the element is added to a form\n    formAssociatedCallback(_form) {\n        // Do nothing\n    }\n    // Called when the element is disabled via form\n    formDisabledCallback(disabled) {\n        this.disabled = disabled;\n        this.requestUpdate();\n    }\n    // Called when form.reset() is called\n    formResetCallback() {\n        this.value = __classPrivateFieldGet(this, _FormInput_initialValue, \"f\");\n        this.internals.setFormValue(__classPrivateFieldGet(this, _FormInput_initialValue, \"f\"));\n        this.requestUpdate();\n        // Dispatch reset event\n        this.dispatchEvent(new CustomEvent('rest', {\n            detail: { value: __classPrivateFieldGet(this, _FormInput_initialValue, \"f\") },\n            bubbles: true,\n            composed: true,\n        }));\n    }\n    // Called after form state is restored (e.g., browser back/forward)\n    formStateRestoreCallback(state, mode) {\n        this.value = state || '';\n        this.internals.setFormValue(this.value);\n        console.log('Form state restored:', {\n            state,\n            mode, // 'restore' or 'autocomplete'\n            value: this.value,\n        });\n        this.requestUpdate();\n    }\n    // Validate the input\n    checkValidity() {\n        const input = this.renderRoot?.querySelector('input');\n        this.dispatchEvent(new CustomEvent('blur', {\n            bubbles: true,\n            composed: true,\n        }));\n        if (input) {\n            const isValid = input.checkValidity();\n            this.internals.setValidity(input.validity, input.validationMessage, input);\n            return isValid;\n        }\n        return true;\n    }\n    handleOnFocus(e) {\n        const input = e.target;\n        this.value = input.value;\n        this.dispatchEvent(new CustomEvent('focus', {\n            detail: { value: this.value },\n            bubbles: true,\n            composed: true,\n        }));\n    }\n    // Lifecycle: when element is first connected\n    connectedCallback() {\n        super.connectedCallback();\n        __classPrivateFieldSet(this, _FormInput_initialValue, this.value, \"f\");\n        this.internals.setFormValue(this.value);\n    }\n    render() {\n        return html `\r\n      <div class=\"form-field\">\r\n        ${this.label ? html `<label for=\"input\">${this.label}</label>` : null}\r\n        <input\r\n          id=\"input\"\r\n          .type=${this.type}\r\n          .value=${this.value}\r\n          .placeholder=${this.placeholder}\r\n          ?required=${this.required}\r\n          ?disabled=${this.disabled}\r\n          @input=${__classPrivateFieldGet(this, _FormInput_instances, \"m\", _FormInput_handleInput)}\r\n          @blur=${this.checkValidity}\r\n          @focus=${this.handleOnFocus}\r\n        />\r\n      </div>\r\n    `;\n    }\n};\n_FormInput_initialValue = new WeakMap();\n_FormInput_instances = new WeakSet();\n_FormInput_handleInput = function _FormInput_handleInput(e) {\n    const input = e.target;\n    this.value = input.value;\n    this.internals.setFormValue(this.value);\n    // Dispatch custom event\n    this.dispatchEvent(new CustomEvent('change', {\n        detail: { value: this.value },\n        bubbles: true,\n        composed: true,\n    }));\n};\n// Define styles\nFormInput.styles = css `\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .form-field {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 4px;\r\n    }\r\n\r\n    label {\r\n      font-size: 14px;\r\n      color: #333;\r\n    }\r\n\r\n    input {\r\n      padding: 8px;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      border-radius: 4px;\r\n      font-size: 16px;\r\n    }\r\n\r\n    input[type='color'] {\r\n      padding: unset;\r\n      aspect-ratio: 1/1;\r\n      width: 35px;\r\n      height: 35px;\r\n    }\r\n    input[type='color']::-webkit-color-swatch-wrapper {\r\n      padding: 0;\r\n    }\r\n    input[type='color']::-webkit-color-swatch {\r\n      border: none;\r\n    }\r\n\r\n    input:focus,\r\n    input:active,\r\n    input:focus-visible {\r\n      outline: none;\r\n      border: 1px solid rgba(33, 150, 243, 1);\r\n    }\r\n\r\n    input:invalid {\r\n      border-color: #dc3545;\r\n    }\r\n\r\n    input:disabled {\r\n      background-color: #e9ecef;\r\n      cursor: not-allowed;\r\n    }\r\n  `;\n// Make the element form-associated\nFormInput.formAssociated = true;\n__decorate([\n    property({ type: String })\n], FormInput.prototype, \"name\", void 0);\n__decorate([\n    property({ type: String })\n], FormInput.prototype, \"value\", void 0);\n__decorate([\n    property({ type: String })\n], FormInput.prototype, \"label\", void 0);\n__decorate([\n    property({ type: String })\n], FormInput.prototype, \"type\", void 0);\n__decorate([\n    property({ type: Boolean })\n], FormInput.prototype, \"required\", void 0);\n__decorate([\n    property({ type: String })\n], FormInput.prototype, \"placeholder\", void 0);\n__decorate([\n    property({ type: Boolean })\n], FormInput.prototype, \"disabled\", void 0);\nFormInput = __decorate([\n    customElement('otw-input')\n], FormInput);\nexport { FormInput };\n"],"names":["_FormInput_instances","_FormInput_initialValue","_FormInput_handleInput","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","__classPrivateFieldSet","set","FormInput","LitElement","constructor","super","add","this","name","label","type","required","placeholder","disabled","internals","attachInternals","formAssociatedCallback","_form","formDisabledCallback","requestUpdate","formResetCallback","setFormValue","dispatchEvent","CustomEvent","detail","bubbles","composed","formStateRestoreCallback","mode","console","log","checkValidity","input","renderRoot","querySelector","isValid","setValidity","validity","validationMessage","handleOnFocus","e","connectedCallback","render","html","WeakMap","WeakSet","styles","css","formAssociated","property","String","prototype","Boolean","customElement"],"mappings":"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"}