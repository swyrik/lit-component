{"version":3,"file":"otw-input-prefix.js","sources":["../../dist/components/otw-input-prefix.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nlet InputPrefix = class InputPrefix extends LitElement {\n    constructor() {\n        super();\n        this.name = '';\n        this.value = '';\n        this.label = '';\n        this.disabled = false;\n        this.required = false;\n        this.type = 'text';\n        this.placeholder = '';\n        this.unit = 'px';\n        this.touched = false;\n        this.errorMessage = '';\n        this.internals = this.attachInternals();\n    }\n    get inputValue() {\n        return `${this.value}${this.unit}`;\n    }\n    //   private get inputElement(): HTMLInputElement {\n    //     return this.renderRoot?.querySelector('input') as HTMLInputElement;\n    //   }\n    //   private get selectElement(): HTMLSelectElement {\n    //     return this.renderRoot?.querySelector('select') as HTMLSelectElement;\n    //   }\n    handleInput(e) {\n        const input = e.target;\n        this.value = input.value;\n        this.touched = true;\n        this.updateFormValue();\n        this.dispatchEvent(new CustomEvent('change', {\n            detail: { value: this.inputValue },\n            bubbles: true,\n            composed: true\n        }));\n    }\n    handleUnitChange(e) {\n        const select = e.target;\n        this.unit = select.value;\n        this.updateFormValue();\n        this.dispatchEvent(new CustomEvent('change', {\n            detail: { value: this.inputValue },\n            bubbles: true,\n            composed: true\n        }));\n    }\n    updateFormValue() {\n        const isValid = this.checkValidity();\n        if (isValid) {\n            this.internals.setFormValue(this.inputValue);\n            this.errorMessage = '';\n        }\n        else {\n            this.internals.setFormValue(null);\n        }\n    }\n    checkValidity() {\n        if (this.required && !this.value) {\n            this.errorMessage = 'This field is required';\n            this.internals.setValidity({ valueMissing: true }, 'This field is required');\n            return false;\n        }\n        // Add numerical validation if needed\n        const numValue = parseFloat(this.value);\n        if (this.value && isNaN(numValue)) {\n            this.errorMessage = 'Please enter a valid number';\n            this.internals.setValidity({ typeMismatch: true }, 'Please enter a valid number');\n            return false;\n        }\n        this.internals.setValidity({});\n        return true;\n    }\n    firstUpdated() {\n        this.updateFormValue();\n    }\n    formDisabledCallback(disabled) {\n        this.disabled = disabled;\n    }\n    formResetCallback() {\n        this.value = '';\n        this.unit = 'px';\n        this.touched = false;\n        this.errorMessage = '';\n        this.updateFormValue();\n    }\n    formStateRestoreCallback(state) {\n        if (state) {\n            const match = state.match(/^([\\d.]+)(.+)$/);\n            if (match) {\n                this.value = match[1];\n                this.unit = match[2];\n                this.updateFormValue();\n            }\n        }\n    }\n    render() {\n        return html `\r\n      <input \r\n        .type=${this.type}\r\n        .value=${this.value}\r\n        ?disabled=${this.disabled}\r\n        ?required=${this.required}\r\n        placeholder=${this.placeholder}\r\n        @input=${this.handleInput}\r\n        class=${this.errorMessage ? 'error' : ''}\r\n      />\r\n      <select \r\n        .value=${this.unit}\r\n        ?disabled=${this.disabled}\r\n        @change=${this.handleUnitChange}\r\n      >\r\n        <option value=\"px\">px</option>\r\n        <option value=\"%\">%</option>\r\n      </select>\r\n    `;\n    }\n};\nInputPrefix.formAssociated = true;\nInputPrefix.styles = css `\r\n    :host {\r\n      border: 1px solid rgba(0, 0, 0, 0.1);\r\n      height: 100%;\r\n      width: 100%;\r\n      display: grid;\r\n      grid-template-columns: 75% max(25%, 37px);\r\n      height: 2em;\r\n      border-radius: 4px;\r\n    }\r\n\r\n    :host(:focus-within) {\r\n      border: 1px solid rgba(33, 150, 243, 1);\r\n      border-radius: 4px;\r\n    }\r\n\r\n    :host([disabled]) {\r\n      opacity: 0.5;\r\n      pointer-events: none;\r\n    }\r\n\r\n    input {\r\n      border: none;\r\n      border-radius: 4px;\r\n      width: 100%;\r\n      padding: 0 8px;\r\n    }\r\n\r\n    input:active,\r\n    input:focus, \r\n    select:focus, \r\n    select:focus-visible {\r\n      outline: none;\r\n    }\r\n\r\n    select {\r\n      border: none;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      padding: 0 2px;\r\n    }\r\n\r\n    .error {\r\n      border-color: #ff0000;\r\n    }\r\n  `;\n__decorate([\n    property({ type: String })\n], InputPrefix.prototype, \"name\", void 0);\n__decorate([\n    property({ type: String })\n], InputPrefix.prototype, \"value\", void 0);\n__decorate([\n    property({ type: String })\n], InputPrefix.prototype, \"label\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true })\n], InputPrefix.prototype, \"disabled\", void 0);\n__decorate([\n    property({ type: Boolean })\n], InputPrefix.prototype, \"required\", void 0);\n__decorate([\n    property({ type: String, attribute: true })\n], InputPrefix.prototype, \"type\", void 0);\n__decorate([\n    property({ type: String })\n], InputPrefix.prototype, \"placeholder\", void 0);\n__decorate([\n    property({ type: String })\n], InputPrefix.prototype, \"unit\", void 0);\n__decorate([\n    state()\n], InputPrefix.prototype, \"touched\", void 0);\n__decorate([\n    state()\n], InputPrefix.prototype, \"errorMessage\", void 0);\nInputPrefix = __decorate([\n    customElement('otw-input-prefix')\n], InputPrefix);\nexport { InputPrefix };\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","InputPrefix","LitElement","constructor","super","this","name","value","label","disabled","required","type","placeholder","unit","touched","errorMessage","internals","attachInternals","inputValue","handleInput","e","input","updateFormValue","dispatchEvent","CustomEvent","detail","bubbles","composed","handleUnitChange","select","checkValidity","setFormValue","setValidity","valueMissing","numValue","parseFloat","isNaN","typeMismatch","firstUpdated","formDisabledCallback","formResetCallback","formStateRestoreCallback","state","match","render","html","formAssociated","styles","css","property","String","prototype","Boolean","reflect","attribute","customElement"],"mappings":"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"}