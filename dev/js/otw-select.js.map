{"version":3,"file":"otw-select.js","sources":["../../dist/components/otw-select.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _SelectInput_instances, _SelectInput_initialValue, _SelectInput_handleChange, _SelectInput_isSelected, _SelectInput_isOptionGroup;\nimport { LitElement, html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nlet SelectInput = class SelectInput extends LitElement {\n    constructor() {\n        super();\n        _SelectInput_instances.add(this);\n        this.name = '';\n        this.value = '';\n        this.label = '';\n        this.required = false;\n        this.disabled = false;\n        this.multiple = false;\n        this.size = 1;\n        this.options = [];\n        _SelectInput_initialValue.set(this, '');\n        this.internals = this.attachInternals();\n    }\n    formAssociatedCallback(form) {\n        console.log('Associated with form:', form);\n    }\n    formDisabledCallback(disabled) {\n        this.disabled = disabled;\n        this.requestUpdate();\n    }\n    formResetCallback() {\n        this.value = __classPrivateFieldGet(this, _SelectInput_initialValue, \"f\");\n        this.internals.setFormValue(__classPrivateFieldGet(this, _SelectInput_initialValue, \"f\"));\n        this.requestUpdate();\n        this.dispatchEvent(new CustomEvent('select-input-reset', {\n            detail: { value: __classPrivateFieldGet(this, _SelectInput_initialValue, \"f\") },\n            bubbles: true,\n            composed: true\n        }));\n    }\n    formStateRestoreCallback(state, _mode) {\n        this.value = state || __classPrivateFieldGet(this, _SelectInput_initialValue, \"f\");\n        this.internals.setFormValue(this.value);\n        this.requestUpdate();\n    }\n    renderSelectOptions(items) {\n        return items.map(item => {\n            if (__classPrivateFieldGet(this, _SelectInput_instances, \"m\", _SelectInput_isOptionGroup).call(this, item)) {\n                return html `\r\n          <optgroup \r\n            label=${item.label}\r\n            ?disabled=${item.disabled}\r\n          >\r\n            ${this.renderSelectOptions(item.options)}\r\n          </optgroup>\r\n        `;\n            }\n            else {\n                return html `\r\n          <option\r\n            value=${item.value}\r\n            ?disabled=${item.disabled}\r\n            ?selected=${__classPrivateFieldGet(this, _SelectInput_instances, \"m\", _SelectInput_isSelected).call(this, item.value)}\r\n          >\r\n            ${item.label}\r\n          </option>\r\n        `;\n            }\n        });\n    }\n    checkValidity() {\n        const select = this.renderRoot?.querySelector('select');\n        if (select) {\n            const isValid = select.checkValidity();\n            this.internals.setValidity(select.validity, select.validationMessage, select);\n            return isValid;\n        }\n        return true;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        __classPrivateFieldSet(this, _SelectInput_initialValue, this.value, \"f\");\n    }\n    render() {\n        return html `\r\n      <div class=\"select-field\">\r\n        ${this.label\n            ? html `<label for=\"select-input\">${this.label}</label>`\n            : null}\r\n        <div class=\"select-wrapper\">\r\n          <select\r\n            id=\"select-input\"\r\n            .value=${this.value}\r\n            ?required=${this.required}\r\n            ?disabled=${this.disabled}\r\n            ?multiple=${this.multiple}\r\n            .size=${this.size}\r\n            @change=${__classPrivateFieldGet(this, _SelectInput_instances, \"m\", _SelectInput_handleChange)}\r\n            @blur=${this.checkValidity}\r\n          >\r\n            ${this.renderSelectOptions(this.options)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n};\n_SelectInput_initialValue = new WeakMap();\n_SelectInput_instances = new WeakSet();\n_SelectInput_handleChange = function _SelectInput_handleChange(e) {\n    const select = e.target;\n    if (this.multiple) {\n        const selectedOptions = Array.from(select.selectedOptions);\n        this.value = selectedOptions.map(opt => opt.value).join(',');\n    }\n    else {\n        this.value = select.value;\n    }\n    this.internals.setFormValue(this.value);\n    this.dispatchEvent(new CustomEvent('select-input-change', {\n        detail: {\n            value: this.value,\n            selectedOptions: this.multiple ?\n                this.value.split(',') :\n                [this.value]\n        },\n        bubbles: true,\n        composed: true\n    }));\n};\n_SelectInput_isSelected = function _SelectInput_isSelected(optionValue) {\n    if (this.multiple) {\n        return this.value.split(',').includes(optionValue);\n    }\n    return this.value === optionValue;\n};\n_SelectInput_isOptionGroup = function _SelectInput_isOptionGroup(item) {\n    return 'options' in item;\n};\nSelectInput.styles = css `\r\n    :host {\r\n      display: block;\r\n    }\r\n    \r\n    .select-field {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 4px;\r\n    }\r\n\r\n    label {\r\n      font-size: 14px;\r\n      color: #333;\r\n    }\r\n\r\n    .select-wrapper {\r\n      position: relative;\r\n      display: inline-block;\r\n    }\r\n\r\n    select {\r\n      appearance: none;\r\n      -webkit-appearance: none;\r\n      padding: 8px 32px 8px 12px;\r\n      font-size: 16px;\r\n      border: 1px solid #ccc;\r\n      border-radius: 4px;\r\n      background-color: white;\r\n      width: 100%;\r\n      min-width: 200px;\r\n    }\r\n\r\n    select[multiple] {\r\n      padding-right: 12px;\r\n    }\r\n\r\n    select:focus {\r\n      outline: none;\r\n      border-color: #007bff;\r\n      box-shadow: 0 0 0 2px rgba(0,123,255,0.25);\r\n    }\r\n\r\n    select:disabled {\r\n      background-color: #e9ecef;\r\n      cursor: not-allowed;\r\n    }\r\n\r\n    .select-arrow {\r\n      position: absolute;\r\n      right: 8px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      pointer-events: none;\r\n      fill: #666;\r\n    }\r\n\r\n    select[multiple] + .select-arrow {\r\n      display: none;\r\n    }\r\n\r\n    optgroup {\r\n      font-weight: bold;\r\n      color: #666;\r\n    }\r\n\r\n    option {\r\n      padding: 4px 8px;\r\n    }\r\n\r\n    option:disabled {\r\n      color: #999;\r\n    }\r\n\r\n    select option:hover {\r\n      background-color: #f5f5f5;\r\n    }\r\n\r\n    select[multiple] option {\r\n      padding: 8px 12px;\r\n    }\r\n  `;\nSelectInput.formAssociated = true;\n__decorate([\n    property({ type: String })\n], SelectInput.prototype, \"name\", void 0);\n__decorate([\n    property({ type: String })\n], SelectInput.prototype, \"value\", void 0);\n__decorate([\n    property({ type: String })\n], SelectInput.prototype, \"label\", void 0);\n__decorate([\n    property({ type: Boolean })\n], SelectInput.prototype, \"required\", void 0);\n__decorate([\n    property({ type: Boolean })\n], SelectInput.prototype, \"disabled\", void 0);\n__decorate([\n    property({ type: Boolean })\n], SelectInput.prototype, \"multiple\", void 0);\n__decorate([\n    property({ type: Number })\n], SelectInput.prototype, \"size\", void 0);\n__decorate([\n    property({\n        type: Array,\n        converter: {\n            fromAttribute: (value) => {\n                try {\n                    return JSON.parse(value);\n                }\n                catch {\n                    return [];\n                }\n            },\n            toAttribute: (value) => {\n                try {\n                    return JSON.stringify(value);\n                }\n                catch {\n                    return '[]';\n                }\n            }\n        }\n    })\n], SelectInput.prototype, \"options\", void 0);\nSelectInput = __decorate([\n    customElement('otw-select')\n], SelectInput);\nexport { SelectInput };\n"],"names":["_SelectInput_instances","_SelectInput_initialValue","_SelectInput_handleChange","_SelectInput_isSelected","_SelectInput_isOptionGroup","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","__classPrivateFieldSet","set","SelectInput","LitElement","constructor","super","add","this","name","label","required","disabled","multiple","size","options","internals","attachInternals","formAssociatedCallback","form","console","log","formDisabledCallback","requestUpdate","formResetCallback","setFormValue","dispatchEvent","CustomEvent","detail","bubbles","composed","formStateRestoreCallback","_mode","renderSelectOptions","items","map","item","html","checkValidity","select","renderRoot","querySelector","isValid","setValidity","validity","validationMessage","connectedCallback","render","WeakMap","WeakSet","e","selectedOptions","Array","from","opt","join","split","optionValue","includes","styles","css","formAssociated","property","type","String","prototype","Boolean","Number","converter","fromAttribute","JSON","parse","toAttribute","stringify","customElement"],"mappings":"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"}