{"version":3,"file":"otw-search-input.js","sources":["../../dist/components/otw-search-input.js","../../node_modules/@lit/reactive-element/decorators/query.js","../../node_modules/@lit/reactive-element/decorators/base.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators.js\";\nimport \"./otw-input.js\";\nlet SearchInput = class SearchInput extends LitElement {\n    constructor() {\n        super();\n        this.initialOptions = [];\n        this.showList = false;\n        this.value = '';\n        this.options = [\n            {\n                label: \"About\",\n                value: \"about.page\"\n            },\n            {\n                label: \"Home\",\n                value: \"home.page\"\n            },\n            {\n                label: \"Pricing\",\n                value: \"Pricing.page\"\n            },\n            {\n                label: \"Docs\",\n                value: \"docs.page\"\n            }\n        ];\n        this.initialOptions = this.options;\n        this.internals = this.attachInternals();\n        this.initialValue = this.value;\n    }\n    firstUpdated(_changedProperties) {\n        this.otwInputWidth = this.shadowRoot?.firstElementChild?.clientWidth + 'px';\n        this.otwInput.addEventListener(\"change\", (e) => {\n            this.searchValue = e.detail.value;\n            if (this.searchValue.length != 0) {\n                this.options = this.initialOptions.filter(option => option.value.toLowerCase().includes(this.searchValue.toLowerCase()));\n            }\n            else {\n                this.showList = true;\n                this.options = this.initialOptions;\n            }\n        });\n        this.otwInput.addEventListener(\"focus\", (_e) => {\n            this.showList = true;\n        });\n        this.otwInput.addEventListener(\"blur\", (_e) => {\n            this.showList = false;\n        });\n    }\n    liClick(e) {\n        const val = e.target.getAttribute(\"value\");\n        this.otwInput.value = val ? val : \"\";\n        this.showList = false;\n        this.internals.setFormValue(val);\n    }\n    formResetCallback() {\n        this.value = this.initialValue;\n        this.otwInput.value = this.value;\n        this.internals.setFormValue(this.initialValue);\n        this.requestUpdate();\n        this.dispatchEvent(new CustomEvent('input-search-reset', {\n            detail: { value: this.initialValue },\n            bubbles: true,\n            composed: true\n        }));\n    }\n    render() {\n        return html `\r\n            <div>\r\n                <otw-input placeholder=\"pages\"></otw-input>\r\n                <ul ?hidden=${!this.showList} style=\"width: calc(${this.otwInputWidth} - 2px)\">\r\n                ${this.options.map(option => html `<li value=${option.value} @mousedown=${this.liClick}>${option.value}</li>`)}\r\n                </ul>\r\n            </div>\r\n        `;\n    }\n};\nSearchInput.styles = css `\r\n        ul{\r\n            list-style: none;\r\n            margin: 0px;\r\n            padding: 0px;\r\n            position: absolute;\r\n            max-height: 100px;\r\n            overflow-y: scroll;\r\n            border-radius: 4px;\r\n            border: 1px solid rgba(0,0,0,0.1);\r\n            z-index: 20;\r\n            margin-top: 4px;\r\n            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.5);\r\n        }\r\n\r\n        li {\r\n            padding: 10px;\r\n            border: 4px;\r\n            cursor: pointer;\r\n        }\r\n        li:hover {\r\n            background-color: #f7f7f7;\r\n        }\r\n    `;\nSearchInput.formAssociated = true;\n__decorate([\n    query(\"otw-input\")\n], SearchInput.prototype, \"otwInput\", void 0);\n__decorate([\n    property({ type: String })\n], SearchInput.prototype, \"otwInputWidth\", void 0);\n__decorate([\n    property({ type: Boolean })\n], SearchInput.prototype, \"showList\", void 0);\n__decorate([\n    property({ type: String })\n], SearchInput.prototype, \"value\", void 0);\n__decorate([\n    property({ type: Array })\n], SearchInput.prototype, \"options\", void 0);\nSearchInput = __decorate([\n    customElement(\"otw-search-input\")\n], SearchInput);\nexport { SearchInput };\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e,r){return(n,s,i)=>{const o=t=>t.renderRoot?.querySelector(e)??null;if(r){const{get:e,set:r}=\"object\"==typeof s?n:i??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return t(n,s,{get(){let t=e.call(this);return void 0===t&&(t=o(this),(null!==t||this.hasUpdated)&&r.call(this,t)),t}})}return t(n,s,{get(){return o(this)}})}}export{e as query};\n//# sourceMappingURL=query.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,c)=>(c.configurable=!0,c.enumerable=!0,Reflect.decorate&&\"object\"!=typeof t&&Object.defineProperty(e,t,c),c);export{e as desc};\n//# sourceMappingURL=base.js.map\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","SearchInput","LitElement","constructor","super","this","initialOptions","showList","value","options","label","internals","attachInternals","initialValue","firstUpdated","_changedProperties","otwInputWidth","shadowRoot","firstElementChild","clientWidth","otwInput","addEventListener","e","searchValue","detail","filter","option","toLowerCase","includes","_e","liClick","val","getAttribute","setFormValue","formResetCallback","requestUpdate","dispatchEvent","CustomEvent","bubbles","composed","render","html","map","styles","css","formAssociated","n","s","t","configurable","enumerable","get","renderRoot","querySelector","o","query","prototype","property","type","String","Boolean","Array","customElement"],"mappings":"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","x_google_ignoreList":[1,2]}